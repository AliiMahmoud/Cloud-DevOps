version: 2.1

jobs:
  save_to_workspace:
    docker: 
      - image: circleci/node:13.8.0
    environment:
      PROJECT_URL: << pipeline.project.git_url >>/compare/lol
    steps:
      - run: echo '<< pipeline.id >> - {{ epoch }} - {{ .Environment.PROJECT_URL }}' > file.txt
      - run: mkdir /tmp/workspace
      - persist_to_workspace:
          root: /tmp/workspace
          paths: [file.txt]
  get_from_workspace:
    docker: 
      - image: circleci/node:13.8.0
    steps:
      - attach_workspace:
          at: /tmp/workspace
      - run : cat file.txt
# list of workflows
workflows:
  default:
    jobs:
      - save_to_workspace
      - get_from_workspace:
          requires: [save_to_workspace]





